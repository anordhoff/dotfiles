# vim: ft=zsh
# vim alias with support for nested vim sessions

if [[ -n $VIM_SERVERNAME ]]; then
  if [[ $OSTYPE =~ "linux"* ]]; then
    gvim -v --servername $VIM_SERVERNAME --remote-wait $@
  else
    command vim --servername $VIM_SERVERNAME --remote-wait $@
  fi
else
  if [[ $OSTYPE =~ "linux"* ]]; then
    gvim -v --cmd "let g:workstation = 1" $@
  else
    command vim --cmd "let g:workstation = 1" $@
  fi
fi
